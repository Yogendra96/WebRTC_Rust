# TURN server configuration

# Listening port for TURN/STUN
listening-port=3478

# Alternative listening port for TLS/DTLS
tls-listening-port=5349

# External IP address
# external-ip=YOUR_PUBLIC_IP

# Internal IP address
# listening-ip=0.0.0.0

# Enable fingerprints in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Realm used for the long-term credential mechanism
realm=webrtc-video-chat

# Static user credentials (username:password)
# In production, use a database or dynamic user management
user=turnuser:turnpassword

# Total quota (in bytes) for allocations per session
total-quota=100

# Per-user quota (in bytes) for allocations
user-quota=50

# No authentication for STUN
no-stun-backward-compatibility

# Disable multicast peers
no-multicast-peers

# Enable verbose logging
verbose

# Log file location
log-file=/var/log/turnserver.log

# PID file
pidfile=/var/run/turnserver.pid

# SSL/TLS configuration (uncomment for TURNS)
# cert=/path/to/certificate.pem
# pkey=/path/to/private-key.pem

# Alternative ports for relay endpoints
min-port=49152
max-port=65535

# Enable CLI (command line interface)
cli-ip=127.0.0.1
cli-port=5766

# Database configuration (optional)
# userdb=/var/lib/turn/turndb
# psql-userdb="host=localhost dbname=turn user=turn password=turn port=5432 connect_timeout=30"

# Deny all other realms
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow connections to localhost for testing
allowed-peer-ip=127.0.0.1

# Server name for ORIGIN header
server-name=webrtc-video-chat

# Disable secure mode (enable for production)
# secure-stun

# Enable STUN/TURN server
stun-only=false